# 一、素材编辑 & Tilemap

- 注意**Pixel Per Unit**的统一
- 一张图多素材应在**Sprite Mode**中选择**Multiple**
- 裁剪素材点击**Sprite Editor**，选择**Slice**-->**Type**-->**Grid By Cell Size**

---
# 二、图层layer & 角色建立

- **Sorting Later：**排在下边的layer优先出现在画面前端
- **Order in Layer：**数值越大优先出现在画面前端
- 角色创建：新建**2D Object**-->**Sprite**，将素材拖拽进去即可
- **Rigidbody 2D：**给予角色重力
- **Box Collider 2D：**方形碰撞体
- **Tliemap Collider 2D：**瓦片地图碰撞体

---
# 三、角色移动

- 控制角色面板：**Project Setting**-->**Input**
- 控制左右移动：**Horizontal**
- 锁定Z轴：**Rigidbody 2D**-->**Constraints**-->**Freeze Rotation**-->**Z**
- 获取输入参数：
```
horizontalmove = Input.GetAxis("Horizontal");
```
<!--GetAxis返回-1~0 0~1之间的值-->

- 物体移动：
```
rb.velocity = new Vector2(horizontalMove*speed*Time.fixedDeltaTime, rb.velocity.y);
```

---
# 四、角色方向 & 跳跃

- 获取输入参数：
```
facedriection = Input.GetAxisRaw("Horizontal");
```
<!--GetAxisRaw返回-1，0，1三个数-->

- 改变方向：**Transform**组件下的**Scale**的x值为**±1**时可以改变物体方向
```
transform.localScale = new Vector3(faceDirection, 1, 1);
```
- 使用刚体组件时不要写在**Update**里应写在**FixedUpdate**但要在相关参数后边乘**Time.fixedDeltaTime**
- 角色跳跃：同理移动代码，在Y轴施加一个力
```
rb.velocity = new Vector2(rb.velocity.x, jumpForce*Time.fixedDeltaTime);
```

---
# 五、动画效果 Animation

- 给角色添加组件**Animator**
- **Assest**文件夹下创建**Animation**文件夹并创建**Animation Controller**
- 将新建的**Animation Controller**拖拽到角色的**Animator**组件中
- 打开**Animation**窗口：**Windows**-->**Animation**-->**Animation**
- 创建一个动画并将素材拖至时间轴上稍加修改即可
- 打开**Animator**窗口：**Windows**-->**Animation**-->**Animator**
- 动画之间切换：在**Animator**窗口，右键动画，选择**Make Transition**
- 添加参数：在**Animator**窗口左侧**Parameters**中点击“+”添加
- 注意：动画设置中**Has Exit Time**不勾选，**Transition Duration**设置为0，在**Conditions**中添加条件
- 代码中控制动画条件：
  1. 先获取animator组件
  ```
  public Animator anim;
  ```
  2. 通过SetBool或SetFloat等来控制条件
  ```
  anim.SetFloat("Running", horizontalMove);
  anim.SetBool("Jumping", true);
  ```
- 绝对值函数：
  
```
Mathf.Abs(number);
```

---
# 六、跳跃动画 LayerMask


